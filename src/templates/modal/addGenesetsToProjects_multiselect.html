{# Actual modal that selects genesets and projects to add. Called from mygenesets #}

<div class="modal fade" id="addToProjectModal">
    <div class="modal-dialog">
        <div class="modal-content" style="overflow: auto">
            <form id="addGenesetsToProj" name="addGenesetsToProj" method="post" action="#"
                  class="form-horizontal" novalidate="novalidate">

                <div class="modal-header bg-green">
                    <h3 class="modal-title" style="color: #f5f5f5">
                        Add Selected GeneSets to Project(s)
                    </h3>
                </div>
                <div class="modal-body">
                    <div class="row" id="modalError">
                    </div>
			{% if not g.user %}
			<div class="alert alert-danger" role="alert">
				<h4> Warning: You are not signed in. Adding these genesets to a project will create a guest account for you.</h4>
				Guest accounts are temporary, and will be removed within 24 hours of creation. Guest accounts can be registered as full accounts, but you cannot associate a guest account with an existing account.
				If you already have an account, you should sign into that account before proceeding.
			</div>
			{% endif %}

                    <div class="row" style="text-align:center;">
                        <h4>The following GeneSet(s) will be added:</h4>
                    </div>
                    <div class="row" style="text-align:center;">
                        <strong>
				<span class="rows" id="addToProjectModal-label" style="color: #006400;">
				</span>
			</strong>
                    </div>
                    <div class="row" id="reveal-if-active" {% if g.user %}style="display:none;" {% endif %}>
                        <label for="addToProjectModalNewName"><h4>New Project Name: </h4></label>
                        <input type="text" id="addToProjectModalNewName" name="newProjName" class="form-control input-lg">
                    </div>
                    <div class="row" style="padding-top: 10px;{% if not g.user %}display:none;{% endif %}">
                        <label for="sel2">Select which projects to add to (hold shift to select more than one):</label>
			<select multiple class="form-control" id="sel2"> 
			    {% if g.user %}
                            {% for project in g.user.projects %}
                                <option value="{{ project.project_id }}">{{ project.name}}</option>
                            {% endfor %}
			    {% endif %}
			</select>
                        <input type="hidden" id="addToProjectModalValue" name="gs_id" value=""/>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-success btn-transparent" id="addNewProject"style="padding-left:12px;padding-right:12px;{% if not g.user %}display:none;{% endif %}">
                                <i class="fa fa-plus"></i> Add to New Project
                        </button>
                        <button type="button" class="btn btn-warning" id="addGenesetsToProjects" data-dismiss="modal"style="padding-left:12px;padding-right:12px">
                                Add to Selected Project(s)
                        </button>
                        <button type="button" class="btn btn-default" data-dismiss="modal">
                                Close
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
